document.documentElement.classList.remove("no-js");const headerSlider=new Swiper(".header__slider",{autoplay:{delay:1e4},loop:!0,draggable:!1,noSwiping:!0,noSwipingClass:"swiper-slide",effect:"fade",preloadImages:!1,lazy:!0}),aboutSlider=new Swiper(".about__slider",{autoplay:{delay:5e3},loop:!0,slidesPerView:3,spaceBetween:150,navigation:{nextEl:".about__slider-next"},pagination:{el:".about__slider-pagination",clickable:!0},grabCursor:!0,effect:"creative",creativeEffect:{prev:{translate:["-120%",0,-500]},next:{translate:["120%",0,-500]}}}),header=document.querySelector(".header"),mainMenu=document.querySelector(".main-menu"),logoImg=document.querySelector(".logo__img"),footerNav=document.querySelector(".footer__nav"),headerObserver=new IntersectionObserver(((e,t)=>{mainMenu&&e.forEach((e=>{e.isIntersecting?mainMenu.classList.remove("nav-scrolled"):mainMenu.classList.add("nav-scrolled")}))}),{rootMargin:"-95px 0px 0px 0px"});headerObserver.observe(header);const footerNavObserver=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting?mainMenu.classList.add("main-menu--hide"):mainMenu.classList.remove("main-menu--hide")}))}),{rootMargin:"0px 0px 0px 0px"});footerNav&&footerNavObserver.observe(footerNav);const toggleBtn=document.querySelector(".menu__toggle-btn"),menuList=document.querySelector(".menu__list"),menuListLink=document.querySelector(".menu__list-link");toggleBtn&&toggleBtn.addEventListener("click",(e=>{toggleBtn.classList.toggle("menu__toggle-btn--active"),menuList.classList.toggle("menu__list--active"),document.body.classList.toggle("body--lock")})),menuList&&menuList.addEventListener("click",(e=>{e.target.closest(".menu__list-link")&&(toggleBtn.classList.remove("menu__toggle-btn--active"),menuList.classList.remove("menu__list--active"),document.body.classList.remove("body--lock"))}));let touchstartX=0,touchstartY=0,touchendX=0,touchendY=0,timeStart=0;const gestureZone=document.body;function handleGesture(e){touchendX-touchstartX>100&&e<300&&(toggleBtn.classList.remove("menu__toggle-btn--active"),menuList.classList.remove("menu__list--active"),document.body.classList.remove("body--lock")),touchstartX-touchendX>100&&e<300&&(toggleBtn.classList.add("menu__toggle-btn--active"),menuList.classList.add("menu__list--active"),document.body.classList.add("body--lock"))}gestureZone.addEventListener("touchstart",(function(e){timeStart=Date.now(),touchstartX=e.changedTouches[0].screenX,touchstartY=e.changedTouches[0].screenY}),!1),gestureZone.addEventListener("touchend",(function(e){const t=Date.now()-timeStart;touchendX=e.changedTouches[0].screenX,touchendY=e.changedTouches[0].screenY,handleGesture(t)}),!1);const mainWrapper=document.querySelector(".main-wrapper"),pageSlider=new Swiper(".page",{wrapperClass:"page__wrapper",slideClass:"page__screen",direction:"vertical",parallax:!0,keyboard:{enabled:!0,onliInViewport:!0,pageUpDown:!0},mousewheel:!1,watchOverflow:!0,speed:500,observer:!0,observerParents:!0,observeSlideChildren:!0,scrollbar:{el:".page__scroll",dragClass:"page__drag-scroll",draggable:!0},hashNavigation:!0,simulateTouch:!1,init:!1,watchOverflow:!0,on:{init:function(){const e=document.querySelector(".header__scroll-btn");e&&e.addEventListener("click",(e=>pageSlider.slideTo(1,500)));const t=document.querySelectorAll(".logo");t.length&&t.forEach((e=>e.addEventListener("click",(e=>pageSlider.slideTo(0,500))))),menuSlider(headerMenuLinks),menuSlider(footerMenuLinks),mainWrapper.classList.add("main-wrapper--loaded"),mousewheel(),touchmove()},slideChange:function(){menuSliderRemoveActive(),headerMenuLinks.length>=pageSlider.realIndex+1&&headerMenuLinks[pageSlider.realIndex].classList.add("menu__list-link--active"),footerMenuLinks.length>=pageSlider.realIndex+1&&footerMenuLinks[pageSlider.realIndex].classList.add("menu__list-link--active")}}}),headerMenuLinks=document.querySelectorAll(".main-menu .menu__list-link"),footerMenuLinks=document.querySelectorAll(".footer .menu__list-link");function menuSlider(e){const t=Math.min(e.length,pageSlider.slides.length);if(t){headerMenuLinks.length>=pageSlider.realIndex+1&&headerMenuLinks[pageSlider.realIndex].classList.add("menu__list-link--active");for(let n=0;n<t;n++){const t=e[n];t.addEventListener("click",(e=>{menuSliderRemoveActive(),pageSlider.slideTo(n,500),t.classList.add("menu__list-link--active"),e.preventDefault()}))}}}function menuSliderRemoveActive(){const e=document.querySelectorAll(".menu__list-link--active");e.length&&e.forEach((e=>e.classList.remove("menu__list-link--active")))}pageSlider.init(),pageSlider.on("slideChangeTransitionEnd",(e=>{mousewheel(),touchmove()})),pageSlider.on("resize",(e=>{mousewheel(),touchmove()}));var isSomeKeyPressed=!1;function touchmove(){let e,t,n;pageSlider.slides.on("touchstart",(n=>{e=n.currentTarget.scrollTop,t=n.targetTouches[0].pageY,e=Math.floor(e)}),!0),pageSlider.slides.on("touchmove",(o=>{n=o.targetTouches[0].pageY;let s=n-t,i=o.currentTarget,l=i.scrollHeight-i.offsetHeight;i.scrollHeight>i.offsetHeight&&(s<0&&e>=0&&l-e>1||s>0&&e>0&&e<=l)&&o.stopPropagation()}),!0)}function mousewheel(){if(pageSlider.mousewheel.enable(),isSomeKeyPressed)return void pageSlider.mousewheel.disable();let e=document.querySelector(".page__screen.swiper-slide-active");if(e.scrollHeight>e.clientHeight){e.addEventListener("wheel",(function(t){if(isSomeKeyPressed)return void pageSlider.mousewheel.disable();let n=e.scrollHeight,o=e.swiperSlideSize,s=n-o,i=n-o-e.scrollTop,l=(t.wheelDelta||-1*t.deltaY)<0?0:s;Math.abs(i)<=1&&(i=0);i!=l?pageSlider.mousewheel.disable():pageSlider.mousewheel.enable()}))}}function testWebP(e){const t=new Image;t.onload=t.onerror=()=>e(2==t.height),t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}document.addEventListener("keydown",(e=>{isSomeKeyPressed=!0,pageSlider.mousewheel.disable()})),document.addEventListener("keyup",(e=>{isSomeKeyPressed=!1,pageSlider.mousewheel.enable()})),testWebP((e=>e?document.body.classList.add("webp"):document.body.classList.add("no-webp")));